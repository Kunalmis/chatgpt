<!DOCTYPE html>
<html>
<head>
  <title>Upload Image and Transform to Heart Shape</title>
  <style>
    /* Styles for the popup */
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
      background-color: #fff;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      z-index: 9999;
    }

    /* Styles for the heart shape */
    .heart {
      width: 100px;
      height: 100px;
      background-color: pink;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body>
  <h1>Upload Image and Transform to Heart Shape</h1>
  
  <button id="uploadBtn">Upload Image</button>
  
  <div id="imagePopup" class="popup">
    <input type="file" id="imageInput">
    <label for="heartShapeCheckbox">Display as Heart Shape</label>
    <input type="checkbox" id="heartShapeCheckbox">
    <div id="imagePreview"></div>
  </div>

  <script>
    const uploadBtn = document.getElementById('uploadBtn');
    const imagePopup = document.getElementById('imagePopup');
    const imageInput = document.getElementById('imageInput');
    const heartShapeCheckbox = document.getElementById('heartShapeCheckbox');
    const imagePreview = document.getElementById('imagePreview');

    uploadBtn.addEventListener('click', function() {
      imagePopup.style.display = 'block';
    });

    imageInput.addEventListener('change', function(e) {
      const file = e.target.files[0];
      const reader = new FileReader();

      reader.onload = function() {
        const image = document.createElement('img');
        image.src = reader.result;

        if (heartShapeCheckbox.checked) {
          image.classList.add('heart');
        }

        imagePreview.innerHTML = '';
        imagePreview.appendChild(image);
      };

      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>
